<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
  <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <title>Sno+ Monitoring</title>
    <script src="js/json2.js"></script>
    <script src="js/jquery-1.7.js"></script> 
    <script src="js/jquery.flot.min.js"></script>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Droid+Sans"/> 
    <link rel="shortcut icon" href="images/favicon.ico"/>
    <style>
      .vmenu{border:1px solid #aaa;position:absolute;background:#fff; display:none;font-size:0.75em;}
      .vmenu .first_li span{width:100px;display:block;padding:5px 10px;cursor:pointer}
      .vmenu .inner_li{display:none;margin-left:120px;position:absolute;border:1px solid #aaa;
        border-left:1px solid #ccc;margin-top:-28px;background:#fff;}
      .vmenu .sep_li{border-top: 1px ridge #aaa;margin:5px 0}
      .vmenu .fill_title{font-size:11px;font-weight:bold;/height:15px;/overflow:hidden;word-wrap:break-word;}
    </style>
  </head>

  <body>
    <div id="header"></div>
    <br/>

    <div id="content">
      <div id="nhitchart" style="margin:50px;height:400px;width:500px;" class="plot"></div>
      <div class="vmenu">
        <div class="first_li"><span>Clear</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>Stop</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>Load 5</span></div>
        <div class="first_li"><span>Load 10</span></div>
      </div>
      <div id="crateeventchart" style="margin:50px;height:400px;width:500px;" class="plot"></div>
      <div class="vmenu">
        <div class="first_li"><span>Clear</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>Stop</span></div>
        <div class="sep_li"></div>
        <div class="first_li"><span>Load 5</span></div>
        <div class="first_li"><span>Load 10</span></div>
      </div>

    </div>
    <div id="footer"></div>
  </body>

  <script>
    $(document).ready(function() {
      $("#header").load("header.html");
      $("#footer").load("footer.html");

      function histogram(data, nbins) {
        var min = Math.min.apply(Math, data);
        var max = Math.max.apply(Math, data);
        var width = (max - min + 1) / nbins;

        var bins = [];
        for (var i = 0; i < nbins; i++) {
          var leftEdge = min + i * width;
          bins.push({
            leftEdge: leftEdge,
            count: 0
          });
        }

        for (i = 0; i < data.length; i++) {
          for (var j = 0; j < nbins; j++) {
            if (data[i] >= bins[j].leftEdge && (bins[j+1] ? data[i] < bins[j+1].leftEdge : data[i] <= max)) {
              bins[j].count++;
            }
          }
        }

        var hist = [];
        for (i = 0; i < bins.length; i++) {
          hist.push([bins[i].leftEdge, bins[i].count]);
        }
        return hist;
      }

      vals = [];
      for (var i=0;i<100;i++){
        vals[i] = ((i+1)%5 + (i%9));
      }
      var nbins = 5;

      var min = Math.min.apply(Math, vals);
      var max = Math.max.apply(Math, vals);
      var width = (max - min + 1) / nbins;

      var hist = histogram(vals, nbins);

      $.plot($("#nhitchart"), [hist], {
        series: {
          stack: 0,
          lines: { show: false, fill: true, steps: false },
          bars: { show: true, barWidth: width }
        }
      });


    });
  </script>
</html>

