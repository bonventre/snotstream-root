<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
  <head> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <title>Ostrich</title>
    <script src="js/json2.js"></script>
    <script src="js/jquery-1.7.js"></script> 
    <script src="js/jquery.jqplot.js"></script>
    <script src="js/plugins/jqplot.canvasTextRenderer.min.js"></script>
    <script src="js/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
    <script type="text/javascript" src="js/plugins/jqplot.barRenderer.min.js"></script>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Droid+Sans"/> 
    <link rel="shortcut icon" href="images/favicon.ico"/>
  </head>

  <body>
    <div id="header"></div>
    <br/>

    <div id="content">
      <div id="chartdiv" style="margin:50px;height:400px;width:300px; "></div
    
    </div>

    <div id="footer"></div>
  </body>

  <script>
    $(document).ready(function() {
      $("#header").load("header.html");
      $("#footer").load("footer.html");

      var ajaxDataRenderer = function(url, plot, options){
        var ret = null;
        $.ajax({
          async: false,
          url: url,
          dataType:"json",
          success: function(data){
            ret = data;
          }
        });
        return ret;
      }

      var jsonurl = "./data"
      /*

      var plot2 = $.jqplot('chartdiv',jsonurl,{
        title: "AJAX JSON Data Renderer",
        dataRenderer: ajaxDataRenderer,
        dataRendererOptions: {
          unusedOptionalUrl: jsonurl
        }
      });
      */
      
      var plot2 = $.jqplot('chartdiv',[[[0,1],[1,1],[2,1],[3,1],[4,1],[5,1]]],{});

      function update() {
        $.ajax({
          async: false,
          url: jsonurl,
          dataType:"json",
          success: function(data){
            plot2.series[0].data = data;
          }
        });
        plot2.replot({resetAxes:true});
        setTimeout(update,500);
      }
      update();

      /*
      var plot0 = $.jqplot('chartdiv',  [[[1, 2],[3,5.12],[5,13.1],[7,33.6],[9,85.9],[11,219.9]]],{
        axes:{
          xaxis:{
            label:'Angle (radians)',
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer
          },
          yaxis:{
            label:'Cosine',
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer
          }
        }

      });
      var i = 0;

      function update() {
        if (i%2 == 0){
          plot0.series[0].data = [[0,0],[1,1],[2,-1],[3,3]];
          plot0.replot({resetAxes:true});
          i++;
          }else{
          plot0.series[0].data = [[0,0],[1,-1],[2,2],[3,0]];
          plot0.replot({resetAxes:true});
          i=0;
        }
        setTimeout(update, 500);
      }

      update();
      */


    });
  </script>
</html>

